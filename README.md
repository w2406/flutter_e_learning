# Flutter学習eラーニングアプリ（Dify連携）

## 1. 概要

### 目的
Flutter初心者～中級者向けに、学習セクションごとにFlutterの技術を解説し、
コード入力→AIによる自動添削→フィードバックを受け取れるアプリを提供する。

### 対象ユーザー
- Flutter初学者～中級者
- モバイルアプリ開発学習者
- プログラミングの自己学習者

---

## 2. 使用技術

### アーキテクチャ
アーキテクチャについては[README_ARCHITECTURE.md](README_ARCHITECTURE.md)を参照してください。

### フロントエンド（アプリ）
- Flutter（iOS / Android ※Webにも対応予定）
- 状態管理：Riverpod
- 画面遷移：GoRouter
- コード入力欄：`flutter_code_editor` or `code_text_field`
- HTTP通信：`retrofit`、`dio`
- DB：`sqflite`
### バックエンド（AI添削）
- Dify（カスタムGPTアプリ）
- API連携（REST API）
- モデル：gpt-4 / gpt-4o 推奨

---

## 3. 機能要件

### 3.1 セクション/学習構造
| 要素           | 内容                                     |
|----------------|------------------------------------------|
| セクション一覧 | Flutter Roadmapベースで15〜20カテゴリ     |
| 問題   | 各セクションに複数問題（Markdown形式）    |
| 進捗管理       | ユーザーごとに進捗・履歴を記録（ローカル or Firebase） |

---

### 3.2 UI機能一覧

| ホーム画面 | セクション一覧画面 | 問題画面（選択式） | 問題画面（コード入力） | 履歴画面 | 設定画面 |
|:---:|:---:|:---:|:---:|:---:|:---:|
| ![ホーム画面](README_image/ホーム画面.png) | ![セクション一覧画面](README_image/セクション一覧画面.png) | ![選択式の問題画面](README_image/選択式の問題画面.png) | ![コード入力の問題画面](README_image/コード入力の問題画面.png) | ![履歴画面](README_image/履歴画面.png) | ![設定画面](README_image/設定画面.png) |

#### ホーム画面（セクション一覧）
- 進捗表示
- 設定画面や問題、履歴画面に遷移

#### セクション一覧画面
- セクション一覧

#### セクション画面
- 問題一覧
- 問題をタップすると問題画面へ遷移

#### 問題画面
- 問題の説明（タイトル、解説、課題文）
- 回答欄（問題によって回答方式を変える）
    - コード入力欄（Flutterコード、入力テンプレートコードあり）
    - 選択欄
- 「回答する」ボタン → 判定 or Dify API呼び出し

#### 問題画面 フィードバック表示
- 正誤判定
- 改善点・推奨される書き方の提案
- 必要に応じて模範コード

#### 学習履歴一覧画面
- 問題を解いた履歴一覧を表示
- 履歴を選択することで振り返ることで添削時の問題画面を表示

#### 学習履歴画面
- 解いた問題の履歴・フィードバックを表示

#### 設定画面
- APIで使用するキーの設定
- バージョン表示
- 問題読み込み(Android/iOSのみ)
    - 問題の読み込みファイル(json)の構成は[テンプレートファイル](flutter_load_map/question_template.json)を参照
    - サンプルとして作成している[flutterの問題サンプル](flutter_load_map/インポートする問題サンプル.json)あり
---

### 3.3 非機能要件
- オフライン時は問題の判定・添削不可
- 学習履歴は永続化（ローカル or Firebase）
- レスポンシブなレイアウト対応

---

## 4. Dify連携仕様

### Difyで用意するアプリ
- モード：チャット or Completion API
- モデル：gpt-4 / gpt-4o（推奨）
- ナレッジベース機能を有効化
